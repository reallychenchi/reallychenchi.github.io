---
layout: post
title: Symbain菜鸟日记 Mar 21st
date: 2010-03-21 20:00
categories: 编程
tags: Symbain
---


　　首先，要致谢一下www.mopius.com，真是一个好地方，在这里可以找到很多不错的塞班资料。这个网站是奥地利的一个大学老师开办的，他的研究方向之一就是塞班系统，难怪我用他写的那个入门指南那么平易近人而且语法和单词也十分简单易懂。

<!-- more -->



　　军规第三条：如果运行当中出现意外退出，那么可以往目录\Epoc32\winscw\c\system\Bootdata\放一个空的ErrRd文件，这样程序执行意外退出以后，会在屏幕上显示错误码。

　　可能这是一个没有公开的配置吧？用空文件打开，很熟悉的做法啊，果然不是一家人不进一家门。

　　按照人家提供的例子，我终于能放图片、执行菜单的命令了。今天计划发一个短信出去，但是一波三折，谁知道顺利不顺利呢？

　　首先，我是在Nokia的论坛上下载了一个示例代码，虽然这个是Symbian 60 3rd，我的是2th的，但是可以合并到我的程序里面。问题是不能运行……很奇怪的问题，出错总是出在一个类的析构函数，可是明明这个类没有被调用，如果把出问题的类删除掉，就换一个类继续出一样的问题。

　　然后，在其他地方看到有一段代码：http://wiki.forum.nokia.com/index.php/CS001419_-_Sending_an_SMS_message，是发送短信的。但是这个同样是给S60 3rd的，需要库Sendas2.lib，干脆死了这条心，在自己的SDK里找。

　　还真找到了：Examples\messaging\sendasex\，但是编译的时候又老报错，报的有点莫名其妙。终于找到了出处：http://www.newlc.com/en/topic-13445，悲愤啊。

　　更加悲愤的，还在后面。我用一个全局替换，把所有的Export和import都替换掉了，想看看是不是这两个宏搞鬼，竟然把一个本来就有的Export替换掉了。花了很大力气才查出来原因，更加悲愤！

　　把悲愤化为力量以后，终于找到一篇指导如何发短信的文章：http://wiki.forum.nokia.com/index.php/SMS_Operations，有S60_3rd和S60_2nd两个版本，按照 步骤一步一步的来，就可以完成基本的短信操作，我都怀疑是不是mopius出的了。有时间了，我把这些都翻译出来整理一下吧，毕竟找也很费劲。

　　另外，中文的短信是可能出现乱码的，http://wiki.forum.nokia.com/index.php/S60平台简体汉字处理浅谈，这里是对中文的处理。

　　总结一下：今天为止，终于把短信在N72上面发出去了，悲愤的力量果然强大。代码很乱，里面还需要好好整理一下，我也需要认真看看里面的原理——不过这些，就先往后放放吧。

[原文在百度空间已经关闭]

